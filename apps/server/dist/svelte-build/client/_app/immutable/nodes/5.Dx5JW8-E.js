import{a as g,t as b}from"../chunks/ClanTBNt.js";import{p as _,s as c,f as x,a as y,g as t,b as u,d as m,c as w,n as S,r as k}from"../chunks/H5THvfYN.js";import{d as C}from"../chunks/DkFVLFqZ.js";import{a as J,r as $}from"../chunks/zO6XoBfd.js";import{b as f}from"../chunks/BZRg0oC2.js";import{p as j}from"../chunks/DQ4Qeime.js";import{o as D}from"../chunks/paxaZGAW.js";import{g as I}from"../chunks/dwV8s9b_.js";const N=async(d,l,i,s)=>{if(!t(l)||!t(i)||!t(s))return;const a=t(l).id,o=t(i),e=t(s);if(console.log(a,o,e),/^\s*$/.test(o)){alert("title is empty");return}if(/^\s*$/.test(e)){alert("content is empty");return}const r=await fetch("/api/contents",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:o,content:e,userID:a})});if(r.ok){const p=await r.json();I(`/svelte/content/${p}`)}};var O=b('<h1>Create Post</h1> <input class="title-input default-shadow" placeholder="Title"> <textarea class="content-input default-shadow" placeholder="Content"></textarea> <div class="button-container"><button>Submit</button> <a href="/svelte/">Discard</a></div>',1);function E(d,l){_(l,!0);let i=u(void 0),s=u(""),a=u("");D(()=>{const n=sessionStorage.getItem("user");if(!n)return;const v=JSON.parse(n);m(i,j(v))});var o=O(),e=c(x(o),2);J(e);var r=c(e,2);$(r);var p=c(r,2),h=w(p);h.__click=[N,i,s,a],S(2),k(p),f(e,()=>t(s),n=>m(s,n)),f(r,()=>t(a),n=>m(a,n)),g(d,o),y()}C(["click"]);export{E as component};
